<p-growl [value]="msgs"></p-growl>

<div class="page" style="margin-top:137px">

    <div class="page-identity" style="position:fixed; margin-top:-42px;">
      <div class="page-name">
        <h5> </h5>
      </div>
      <div class="page-track" style="width:47%">
        <ul>
          <li> Quotations </li>
        </ul>
      </div>
    </div>

    <mat-card class="example-card tab-mat-card" style="padding:0px 0px 30px 0px;background-color:#f1f4f7;box-shadow:none;">
        <p-dataTable [value]="cars" [globalFilter]="QuoteFilter" sortMode="multiple" [rows]="10" [paginator]="true" [pageLinks]="5" [rowsPerPageOptions]="[10,25,50,100]">
            <p-header>
                <div class="row">
                    <div class="col-sm-4 text-left">
                        <button mat-button class="color-success" style="font-weight:600" routerLink="/crmCreateQuotations"> + Create </button> 
                    </div>
                    <div class="col-sm-3"></div>
                    <div class="col-sm-5 text-left"> 
                        <div style="width:100%;display:inline-flex">
                            <div style="float:left;width:85%">
                                <mat-form-field class="search-field" style="width:100%;height:44px; margin-top:-10px;">
                                    <input matInput type="text" #QuoteFilter placeholder="Search" />
                                    <button mat-button matSuffix mat-icon-button aria-label="Search">
                                        <mat-icon style="font-size:25px">search</mat-icon>
                                    </button>
                                </mat-form-field> 
                            </div>
                            <div style="float:left;width:15%;text-align:center;height:35px">
                                <button mat-button mat-icon-button > <mat-icon style="font-size:28px;margin-top:8px;color:#546a77">filter_list</mat-icon> </button>
                            </div>
                        </div>         
                    </div>
                </div> 
            </p-header>
            <p-column header="S.No" [style]="{'width':'60px','text-align':'center'}" >
                <ng-template let-col let-i="rowIndex" pTemplate="body">
                    <span >{{i+1}}</span>
                </ng-template> 
            </p-column>
            <p-column header="Quote Details" [sortable]="true" >
                <ng-template let-car="rowData" pTemplate="body">
                    <h6 style="text-align:left"> Quote-{{car['year']}}-{{car['year']}}-{{car['year']}} </h6>
                    <h6 style="text-align:left"> <smalL> Valid Till : </smalL> {{car['vin']}} </h6>
                </ng-template>
            </p-column>
            <p-column field="brand" header="Brand" [sortable]="true" ></p-column>
            <p-column field="year" header="Year" [sortable]="true" ></p-column>
            <p-column field="color" header="Color" [sortable]="true" >
                <ng-template let-col let-car="rowData" pTemplate="body">
                    <span [style.color]="car[col.field]">{{car[col.field]}}</span>
                </ng-template>
            </p-column>
            <p-column styleClass="col-button" [style]="{'text-align':'center'}" >
                <ng-template pTemplate="header">
                      Action
                </ng-template>
                <ng-template let-car="rowData" pTemplate="body">
                        <div class="button-row tabel-action">
                            <button mat-mini-fab class="bg-color-info" color="accent" (click)="EditQuote(car)" > <mat-icon>border_color</mat-icon> </button>
                            <button mat-mini-fab class="bg-color-warning" color="accent" (click)="ViewQuote(car)" > <mat-icon>visibility</mat-icon> </button>
                            <button mat-mini-fab class="bg-color-danger" color="accent"  (click)="openModal(DeleteConfirm)" > <mat-icon>delete_forever</mat-icon> </button>
                        </div>
                </ng-template>
            </p-column>
        </p-dataTable>
    </mat-card>
</div>

